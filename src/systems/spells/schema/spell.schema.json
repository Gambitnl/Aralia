{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Spell",
  "description": "A spell in the Aralia RPG system",
  "type": "object",
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "level": {
      "type": "number"
    },
    "school": {
<<<<<<< HEAD
      "type": "string",
      "enum": [
        "Abjuration",
        "Conjuration",
        "Divination",
        "Enchantment",
        "Evocation",
        "Illusion",
        "Necromancy",
        "Transmutation"
      ]
    },
    "source": {
      "type": "string"
    },
    "legacy": {
      "type": "boolean"
    },
=======
      "type": "string"
    },
>>>>>>> feat-spell-type-patches
    "classes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "ritual": {
      "type": "boolean"
    },
    "rarity": {
      "type": "string",
<<<<<<< HEAD
      "enum": [
        "common",
        "uncommon",
        "rare",
        "very_rare",
        "legendary"
      ]
    },
    "attackType": {
      "type": "string",
      "enum": [
        "melee",
        "ranged"
      ]
=======
      "enum": ["common", "uncommon", "rare", "very_rare", "legendary"]
>>>>>>> feat-spell-type-patches
    },
    "castingTime": {
      "type": "object",
      "properties": {
        "value": {
          "type": "number"
        },
        "unit": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "action",
            "bonus_action",
            "reaction",
            "minute",
            "hour",
            "special"
          ]
        },
        "combatCost": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "action",
                "bonus_action",
                "reaction"
              ]
            },
            "condition": {
              "type": "string"
            }
          }
=======
          "enum": ["action", "bonus_action", "reaction", "minute", "hour", "special"]
        },
        "combatCost": {
          "type": "string",
          "enum": ["action", "bonus_action", "reaction"]
>>>>>>> feat-spell-type-patches
        },
        "explorationCost": {
          "type": "object",
          "properties": {
            "value": {
              "type": "number"
            },
            "unit": {
              "type": "string",
<<<<<<< HEAD
              "enum": [
                "minute",
                "hour"
              ]
=======
              "enum": ["minute", "hour"]
>>>>>>> feat-spell-type-patches
            }
          }
        }
      }
    },
    "range": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "self",
            "touch",
            "ranged",
            "special"
          ]
=======
          "enum": ["self", "touch", "ranged", "special"]
>>>>>>> feat-spell-type-patches
        },
        "distance": {
          "type": "number"
        }
      }
    },
    "components": {
      "type": "object",
      "properties": {
        "verbal": {
          "type": "boolean"
        },
        "somatic": {
          "type": "boolean"
        },
        "material": {
          "type": "boolean"
        },
        "materialDescription": {
          "type": "string"
        },
        "materialCost": {
          "type": "number"
        },
        "isConsumed": {
          "type": "boolean"
        }
      }
    },
    "duration": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "instantaneous",
            "timed",
            "special",
            "until_dispelled",
            "until_dispelled_or_triggered"
          ]
=======
          "enum": ["instantaneous", "timed", "special", "until_dispelled", "until_dispelled_or_triggered"]
>>>>>>> feat-spell-type-patches
        },
        "value": {
          "type": "number"
        },
        "unit": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "round",
            "minute",
            "hour",
            "day"
          ]
=======
          "enum": ["round", "minute", "hour"]
>>>>>>> feat-spell-type-patches
        },
        "concentration": {
          "type": "boolean"
        }
      }
    },
    "targeting": {
<<<<<<< HEAD
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "self",
            "single",
            "multi",
            "area",
            "melee",
            "ranged",
            "point"
          ]
        },
        "range": {
          "type": "number"
        },
        "maxTargets": {
          "oneOf": [
            {
              "type": "number"
            },
            {
              "type": "object",
              "properties": {
                "base": {
                  "type": "number"
                },
                "scaling": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "character_level",
                        "slot_level"
                      ]
                    },
                    "thresholds": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "number"
                      }
                    }
                  },
                  "required": [
                    "type",
                    "thresholds"
                  ]
                }
              },
              "required": [
                "base",
                "scaling"
              ]
            }
          ]
        },
        "validTargets": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "self",
              "creatures",
              "allies",
              "enemies",
              "objects",
              "point",
              "ground"
            ]
          }
        },
        "lineOfSight": {
          "type": "boolean"
        },
        "areaOfEffect": {
          "type": "object",
          "properties": {
            "shape": {
              "type": "string",
              "enum": [
                "Cone",
                "Cube",
                "Cylinder",
                "Line",
                "Sphere",
                "Square",
                "Emanation",
                "Wall",
                "Hemisphere",
                "Ring"
              ]
            },
            "size": {
              "type": "number"
            },
            "height": {
              "type": "number"
            },
            "followsCaster": {
              "type": "boolean"
            },
            "thickness": {
              "type": "number"
            },
            "width": {
              "type": "number"
            },
            "shapeVariant": {
              "type": "object",
              "properties": {
                "options": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "Line",
                      "Ring",
                      "Hemisphere",
                      "Sphere"
                    ]
                  }
                },
                "default": {
                  "type": "string"
                }
              }
            },
            "wallStats": {
              "type": "object",
              "properties": {
                "ac": {
                  "type": "number"
                },
                "hpPerSection": {
                  "type": "number"
                },
                "sectionSize": {
                  "type": "number"
                }
              }
            },
            "triggerZone": {
              "type": "object",
              "properties": {
                "triggerDistance": {
                  "type": "number"
                },
                "triggerSide": {
                  "type": "string",
                  "enum": [
                    "one",
                    "both",
                    "inside"
                  ]
                }
              }
            }
          },
          "required": [
            "shape",
            "size"
          ]
        },
        "shape": {
          "type": "string",
          "enum": [
            "sphere",
            "cone",
            "cube",
            "line",
            "cylinder"
          ]
        },
        "radius": {
          "type": "number"
        }
      },
      "required": [
        "type",
        "validTargets"
      ]
=======
      "type": "object"
>>>>>>> feat-spell-type-patches
    },
    "effects": {
      "type": "array",
      "items": {
        "oneOf": [
          {
            "$ref": "#/definitions/DamageEffect"
          },
          {
            "$ref": "#/definitions/HealingEffect"
          },
          {
            "$ref": "#/definitions/StatusConditionEffect"
          },
          {
            "$ref": "#/definitions/MovementEffect"
          },
          {
            "$ref": "#/definitions/SummoningEffect"
          },
          {
            "$ref": "#/definitions/TerrainEffect"
          },
          {
            "$ref": "#/definitions/UtilityEffect"
          },
          {
            "$ref": "#/definitions/DefensiveEffect"
          }
        ]
      }
    },
    "arbitrationType": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "higherLevels": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  },
<<<<<<< HEAD
  "required": [
    "id",
    "name",
    "level",
    "school",
    "classes",
    "castingTime",
    "range",
    "components",
    "duration",
    "targeting",
    "effects",
    "description"
  ],
=======
  "required": ["id", "name", "level", "school", "classes", "castingTime", "range", "components", "duration", "targeting", "effects", "description"],
>>>>>>> feat-spell-type-patches
  "definitions": {
    "DamageEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "DAMAGE"
        },
        "damage": {
<<<<<<< HEAD
          "type": "object",
          "properties": {
            "dice": {
              "type": "string"
            },
            "type": {
              "type": "string"
            }
          },
          "required": [
            "dice",
            "type"
          ]
        }
      },
      "required": [
        "type",
        "damage"
      ]
=======
            "type": "object",
            "properties": {
                "dice": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            },
            "required": ["dice", "type"]
        }
      },
      "required": ["type", "damage"]
>>>>>>> feat-spell-type-patches
    },
    "HealingEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "HEALING"
        },
        "healing": {
<<<<<<< HEAD
          "type": "object",
          "properties": {
            "dice": {
              "type": "string"
            },
            "isTemporaryHp": {
              "type": "boolean"
            }
          },
          "required": [
            "dice"
          ]
        }
      },
      "required": [
        "type",
        "healing"
      ]
=======
            "type": "object",
            "properties": {
                "dice": {
                    "type": "string"
                },
                "isTemporaryHp": {
                    "type": "boolean"
                }
            },
            "required": ["dice"]
        }
      },
      "required": ["type", "healing"]
>>>>>>> feat-spell-type-patches
    },
    "StatusConditionEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "STATUS_CONDITION"
        },
        "statusCondition": {
<<<<<<< HEAD
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "duration": {
              "type": "object"
            },
            "level": {
              "type": "number"
            }
          },
          "required": [
            "name",
            "duration"
          ]
        }
      },
      "required": [
        "type",
        "statusCondition"
      ]
=======
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "duration": {
                    "type": "object"
                }
            },
            "required": ["name", "duration"]
        }
      },
      "required": ["type", "statusCondition"]
>>>>>>> feat-spell-type-patches
    },
    "MovementEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "MOVEMENT"
        },
        "movementType": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "push",
            "pull",
            "teleport",
            "speed_change",
            "stop"
          ]
=======
          "enum": ["push", "pull", "teleport", "speed_change", "stop"]
>>>>>>> feat-spell-type-patches
        },
        "distance": {
          "type": "number"
        },
        "speedChange": {
          "type": "object",
          "properties": {
            "stat": {
              "type": "string",
              "const": "speed"
            },
            "value": {
              "type": "number"
            },
            "unit": {
              "type": "string",
              "const": "feet"
            }
          }
        },
        "duration": {
          "type": "object"
        }
      },
<<<<<<< HEAD
      "required": [
        "type",
        "movementType",
        "duration"
      ]
=======
      "required": ["type", "movementType", "duration"]
>>>>>>> feat-spell-type-patches
    },
    "SummoningEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "SUMMONING"
        },
        "summonType": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "creature",
            "object"
          ]
=======
          "enum": ["creature", "object"]
>>>>>>> feat-spell-type-patches
        },
        "creatureId": {
          "type": "string"
        },
        "objectDescription": {
          "type": "string"
        },
        "count": {
          "type": "number"
        },
        "duration": {
          "type": "object"
        }
      },
<<<<<<< HEAD
      "required": [
        "type",
        "summonType",
        "count",
        "duration"
      ]
=======
      "required": ["type", "summonType", "count", "duration"]
>>>>>>> feat-spell-type-patches
    },
    "TerrainEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "TERRAIN"
        },
        "terrainType": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "difficult",
            "obscuring",
            "damaging",
            "blocking",
            "wall"
          ]
=======
          "enum": ["difficult", "obscuring", "damaging", "blocking", "wall"]
>>>>>>> feat-spell-type-patches
        },
        "areaOfEffect": {
          "type": "object"
        },
        "duration": {
          "type": "object"
        },
        "damage": {
          "type": "object"
        },
        "wallProperties": {
          "type": "object"
        }
      },
<<<<<<< HEAD
      "required": [
        "type",
        "terrainType",
        "areaOfEffect",
        "duration"
      ]
=======
      "required": ["type", "terrainType", "areaOfEffect", "duration"]
>>>>>>> feat-spell-type-patches
    },
    "UtilityEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "UTILITY"
        },
        "utilityType": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "light",
            "communication",
            "creation",
            "information",
            "control",
            "sensory",
            "other"
          ]
=======
          "enum": ["light", "communication", "creation", "information", "control", "sensory", "other"]
>>>>>>> feat-spell-type-patches
        },
        "description": {
          "type": "string"
        }
      },
<<<<<<< HEAD
      "required": [
        "type",
        "utilityType",
        "description"
      ]
=======
      "required": ["type", "utilityType", "description"]
>>>>>>> feat-spell-type-patches
    },
    "DefensiveEffect": {
      "type": "object",
      "properties": {
        "type": {
          "const": "DEFENSIVE"
        },
        "defenseType": {
          "type": "string",
<<<<<<< HEAD
          "enum": [
            "ac_bonus",
            "resistance",
            "immunity",
            "temporary_hp",
            "advantage_on_saves"
          ]
=======
          "enum": ["ac_bonus", "resistance", "immunity", "temporary_hp", "advantage_on_saves"]
>>>>>>> feat-spell-type-patches
        },
        "value": {
          "type": "number"
        },
        "damageType": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "savingThrow": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "duration": {
          "type": "object"
        }
      },
<<<<<<< HEAD
      "required": [
        "type",
        "defenseType",
        "duration"
      ]
    }
  }
}
=======
      "required": ["type", "defenseType", "duration"]
    }
  }
}
>>>>>>> feat-spell-type-patches
