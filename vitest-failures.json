[
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/services/__tests__/geminiService.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "geminiService generateMerchantInventory should return fallback inventory when JSON parsing fails",
        "msg": "AssertionError: the given combination of arguments (null and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1252:15)\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/chai/index.js:1700:25)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/services/__tests__/geminiService.test.ts:73:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:20"
      },
      {
        "name": "geminiService generateSocialCheckOutcome should return fallback outcome when JSON parsing fails",
        "msg": "AssertionError: expected null not to be null\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/services/__tests__/geminiService.test.ts:105:31\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:20"
      },
      {
        "name": "geminiService generateCustomActions should return fallback actions when JSON parsing fails",
        "msg": "AssertionError: the given combination of arguments (null and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1252:15)\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/chai/index.js:1700:25)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/services/__tests__/geminiService.test.ts:125:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:20"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/aoeCalculations_width.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "AoE Calculations - Line Width generates 2-tile wide line for 10ft width (East) with even-width fix",
        "msg": "AssertionError: expected 3 to be 2 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/aoeCalculations_width.test.ts:41:23\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "AoE Calculations - Line Width generates 4-tile wide line for 20ft width (East) with even-width fix",
        "msg": "AssertionError: expected 5 to be 4 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/aoeCalculations_width.test.ts:56:23\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/characterValidation.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "validateCharacterChoices Race Validation should report missing Dragonborn Ancestry",
        "msg": "TypeError: Cannot convert undefined or null to object\n    at Function.values (<anonymous>)\n    at validateCharacterChoices (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/characterValidation.ts:24:23)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/characterValidation.test.ts:45:22\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/provenanceUtils.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "provenanceUtils createProvenance should create a new provenance record with correct initial values",
        "msg": "AssertionError: expected { creatorId: 'Test Creator', \u00e2\u20ac\u00a6(3) } to deeply equal { creator: 'Test Creator', \u00e2\u20ac\u00a6(4) }\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/provenanceUtils.test.ts:24:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "provenanceUtils addProvenanceEvent should add a new event to item history and maintain immutability",
        "msg": "AssertionError: expected { date: 2000, type: 'FOUND', \u00e2\u20ac\u00a6(2) } to deeply equal { date: 2000, type: 'FOUND', \u00e2\u20ac\u00a6(3) }\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/provenanceUtils.test.ts:66:46\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "provenanceUtils generateLegendaryHistory should generate a history with CRAFTED and FOUND events",
        "msg": "AssertionError: expected undefined to be defined\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/provenanceUtils.test.ts:108:51\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "religionUtils calculateFavorChange should add favor correctly",
        "msg": "AssertionError: expected +0 to be 10 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:43:34\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils calculateFavorChange should subtract favor correctly",
        "msg": "AssertionError: expected +0 to be -10 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:50:34\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils calculateFavorChange should clamp favor at 100",
        "msg": "AssertionError: expected 95 to be 100 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:57:34\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils calculateFavorChange should clamp favor at -100",
        "msg": "AssertionError: expected -95 to be -100 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:64:34\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils evaluateAction should return correct action for approved trigger",
        "msg": "AssertionError: expected { id: 'approval_GOOD_ACT', \u00e2\u20ac\u00a6(2) } to deeply equal { description: 'Did good', \u00e2\u20ac\u00a6(1) }\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:93:28\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils evaluateAction should return correct action for forbidden trigger",
        "msg": "AssertionError: expected { id: 'forbiddance_BAD_ACT', \u00e2\u20ac\u00a6(2) } to deeply equal { description: 'Did bad', \u00e2\u20ac\u00a6(1) }\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:101:28\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "religionUtils getDivineStanding should return correct standings",
        "msg": "AssertionError: expected 'Champion' to be 'Devout' // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/__tests__/religionUtils.test.ts:121:43\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/__tests__/ActionPane.test.tsx",
    "suiteMessage": "",
    "tests": [
      {
        "name": "ActionPane renders context-aware actions for NPCs, items, and named exits",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane invokes onAction when an action button is clicked",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane submits oracle queries with the provided text",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane disables interaction when disabled is true",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane converts non-string move targetIds when invoking onAction",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane opens the system menu, shows a badge for discoveries, and triggers system actions",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      },
      {
        "name": "ActionPane renders Dev Menu when dev mode is active and rate limit notification is present",
        "msg": "Error: useGameState must be used within a GameProvider\n    at useGameState (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/GameContext.tsx:31:15)\n    at ActionPane (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/components/ActionPane/index.tsx:52:21)\n    at Object.react_stack_bottom_frame (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:25904:20)\n    at renderWithHooks (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10166:19)\n    at beginWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11778:18)\n    at runWithFiberInDEV (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:874:13)\n    at performUnitOfWork (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17641:22)\n    at workLoopSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17469:41)\n    at renderRootSync (C:\\Users\\gambi\\Documents\\Git\\AraliaV4\\Aralia\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:17450:11)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "navalReducer should initialize the fleet",
        "msg": "TypeError: Cannot read properties of undefined (reading 'size')\n    at createShip (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/navalUtils.ts:37:20)\n    at navalReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/navalReducer.ts:17:27)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts:10:22\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      },
      {
        "name": "navalReducer should not re-initialize fleet if ships exist",
        "msg": "TypeError: Cannot read properties of undefined (reading 'size')\n    at createShip (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/navalUtils.ts:37:20)\n    at navalReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/navalReducer.ts:17:27)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts:20:17\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      },
      {
        "name": "navalReducer should start a voyage",
        "msg": "TypeError: Cannot read properties of undefined (reading 'size')\n    at createShip (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/navalUtils.ts:37:20)\n    at navalReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/navalReducer.ts:17:27)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts:32:17\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      },
      {
        "name": "navalReducer should advance voyage and dock when distance reached",
        "msg": "TypeError: Cannot read properties of undefined (reading 'size')\n    at createShip (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/navalUtils.ts:37:20)\n    at navalReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/navalReducer.ts:17:27)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts:48:17\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      },
      {
        "name": "navalReducer should recruit crew",
        "msg": "TypeError: Cannot read properties of undefined (reading 'size')\n    at createShip (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/utils/navalUtils.ts:37:20)\n    at navalReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/navalReducer.ts:17:27)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/__tests__/navalReducer.test.ts:66:17\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/crafting/__tests__/RefiningSystem.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "RefiningSystem processRefiningBatch should stop when materials run out",
        "msg": "AssertionError: expected +0 to be 1 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/crafting/__tests__/RefiningSystem.test.ts:69:39\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/hooks/actions/__tests__/handleMovement_skillCheck.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "handleMovement - Skill Check Events should auto-resolve a successful skill check event",
        "msg": "AssertionError: expected \"vi.fn()\" to be called with arguments: [ \u00e2\u20ac\u00a6(2) ]\n\nReceived: \n\n  1st vi.fn() call:\n\n  [\n-   StringContaining \"You overcome it\",\n+   \"You see a test wilderness.\",\n    \"system\",\n  ]\n\n\nNumber of calls: 1\n\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/chai/index.js:1700:25)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/hooks/actions/__tests__/handleMovement_skillCheck.test.ts:101:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:20"
      },
      {
        "name": "handleMovement - Skill Check Events should auto-resolve a failed skill check event",
        "msg": "AssertionError: expected \"vi.fn()\" to be called with arguments: [ \u00e2\u20ac\u00a6(2) ]\n\nReceived: \n\n  1st vi.fn() call:\n\n  [\n-   StringContaining \"You fail hard\",\n+   \"The air is biting cold. Shadows are lengthening.\",\n    \"system\",\n  ]\n\n  2nd vi.fn() call:\n\n  [\n-   StringContaining \"You fail hard\",\n+   \"Biting cold winds scour the land. Snow covers the paths.\",\n    \"system\",\n  ]\n\n  3rd vi.fn() call:\n\n  [\n-   StringContaining \"You fail hard\",\n+   \"You see a test wilderness.\",\n    \"system\",\n  ]\n\n\nNumber of calls: 3\n\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1420:10)\n    at Proxy.<anonymous> (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/expect/dist/index.js:1090:14)\n    at Proxy.methodWrapper (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/chai/index.js:1700:25)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/hooks/actions/__tests__/handleMovement_skillCheck.test.ts:136:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:20"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/blessing_integration.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "religionReducer - Blessings should grant a blessing and apply status effects when USE_TEMPLE_SERVICE is dispatched with a grant_blessing_ effect",
        "msg": "TypeError: Cannot read properties of undefined (reading 'divineFavor')\n    at religionReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/religionReducer.ts:129:54)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/blessing_integration.test.ts:28:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)"
      },
      {
        "name": "religionReducer - Blessings should handle generic minor blessing",
        "msg": "TypeError: Cannot read properties of undefined (reading 'divineFavor')\n    at religionReducer (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/state/reducers/religionReducer.ts:129:54)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/blessing_integration.test.ts:79:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/favor.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "Religion System - Favor should increase favor when an action has positive change",
        "msg": "AssertionError: expected +0 to be 10 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/favor.test.ts:22:30\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "Religion System - Favor should decrease favor when an action has negative change",
        "msg": "AssertionError: expected +0 to be -20 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/favor.test.ts:33:30\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      },
      {
        "name": "Religion System - Favor should clamp favor between -100 and 100",
        "msg": "AssertionError: expected +0 to be 100 // Object.is equality\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/religion/__tests__/favor.test.ts:42:30\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:37\n    at Traces.$ (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)\n    at trace (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)\n    at runTest (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1653:12)"
      }
    ]
  },
  {
    "suite": "C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/__tests__/WorldEventManager.test.ts",
    "suiteMessage": "",
    "tests": [
      {
        "name": "WorldEventManager should generate events when days pass (with high enough probability or forced check)",
        "msg": "TypeError: Cannot read properties of undefined (reading 'forEach')\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:386:28\n    at Array.forEach (<anonymous>)\n    at handleMarketShift (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:382:21)\n    at processWorldEvents (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:586:20)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/__tests__/WorldEventManager.test.ts:32:24\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)"
      },
      {
        "name": "WorldEventManager should change faction power during a skirmish",
        "msg": "TypeError: Cannot read properties of undefined (reading 'forEach')\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:386:28\n    at Array.forEach (<anonymous>)\n    at handleMarketShift (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:382:21)\n    at processWorldEvents (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:586:20)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/__tests__/WorldEventManager.test.ts:53:28\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)"
      },
      {
        "name": "WorldEventManager should propagate rumors over time",
        "msg": "TypeError: Cannot read properties of undefined (reading 'forEach')\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:386:28\n    at Array.forEach (<anonymous>)\n    at handleMarketShift (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:382:21)\n    at processWorldEvents (C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/WorldEventManager.ts:586:20)\n    at C:/Users/gambi/Documents/Git/AraliaV4/Aralia/src/systems/world/__tests__/WorldEventManager.test.ts:128:24\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/gambi/Documents/Git/AraliaV4/Aralia/node_modules/@vitest/runner/dist/index.js:1209:10)"
      }
    ]
  }
]