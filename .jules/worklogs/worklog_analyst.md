## 2024-05-24 - Spell Choice Framework **Learning:** Complex spells requiring user input at cast time (like *Protection from Energy* or *Chromatic Orb*) lack a defined schema structure, often leading to hacky implementations (e.g., slash-delimited strings) or omitted logic. **Action:** Introduced `SpellChoice` interface and `choiceId` referencing in `Spell` and `SpellEffect` to formalize this pattern, enabling the UI to generate selection prompts and the engine to resolve variable values.
