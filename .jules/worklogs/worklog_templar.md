## 2024-05-23 - The Divine Observer Pattern **Learning:** Decoupling mechanical combat events from divine interpretation is crucial. Instead of hardcoding "Gain Pelor Favor" inside the `useCombatEngine` damage logic (which would pollute the physics engine with lore), I implemented a `CombatReligionAdapter`. This observer listens to the agnostic `CombatLogEntry` stream (e.g., "X took 10 damage", "X died") and translates it into theological meaning (e.g., "Undead destroyed" -> "TRIGGER_DEITY_ACTION"). **Action:** Use this Adapter pattern for future subsystems (e.g., Faction Reputation from dialogue logs) to keep core engines pure.

## 2025-12-29 - Service Architecture **Learning:** Centralizing service logic in `TempleSystem` allows us to decouple the *definition* of a service (in data) from its *execution* (in system), enabling us to support both simple string effects (legacy) and complex object effects (future) without changing the data schema immediately. **Action:** Continue this pattern of 'Resolver Classes' for other interaction types like shop purchases or faction requests.
