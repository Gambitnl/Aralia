## 2024-05-24 - useEffect Stale Closure in TurnManager **Learning:** Found a dangerous pattern where `useEffect` triggers a state update (`startTurnFor`) based on a state change (`currentCharacterId`), requiring a `useRef` guard to prevent infinite loops. This causes "double ticking" of durations on page reload/mount because the effect runs on mount. **Action:** Refactored `useTurnManager` to call `startTurnFor` explicitly in the event handler (`endTurn`) rather than reacting to state changes. This is cleaner, safer, and fixes the reload bug.
